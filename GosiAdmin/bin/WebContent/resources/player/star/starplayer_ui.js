function initScriptUI(q){var u=false;var n=false;var f;$(".starplayer_script_ui a").click(function(x){x.preventDefault()});$(".starplayer_script_ui").each(function(){this.onselectstart=function(){return false};this.unselectable="on";jQuery(this).css("user-select","none");jQuery(this).css("-o-user-select","none");jQuery(this).css("-moz-user-select","none");jQuery(this).css("-khtml-user-select","none");jQuery(this).css("-webkit-user-select","none")});$(".btn_play").click(s);$(".btn_pause").click(function(){q.pause()});$(".btn_stop").click(function(){q.stop()});$(".btn_backward").click(function(){q.backward()});$(".btn_forward").click(function(){q.forward()});$(".btn_repeat").click(function(){l()});$(".btn_fullscreen").click(function(){w()});$(".btn_mute").click(function(){p()});$(".btn_speed06").click(function(){d(0.6)});$(".btn_speed08").click(function(){d(0.8)});$(".btn_speed10").click(function(){d(1)});$(".btn_speed12").click(function(){d(1.2)});$(".btn_speed14").click(function(){d(1.4)});$(".btn_speed16").click(function(){d(1.6)});$(".btn_speed18").click(function(){d(1.8)});$(".btn_speed20").click(function(){d(2)});function g(x){return x.originalEvent.changedTouches?x.originalEvent.changedTouches[0].pageX:x.pageX}$(".seekbar_l").bind("mousedown touchstart",function(A){var B=$(this);function y(D){var C=g(D)-B.offset().left;var E=(C/B.width())*q.getDuration();if(E<0){E=0}if(E>q.getDuration()){E=q.getDuration()}return E}function z(C){var D=y(C);i(D);C.preventDefault()}function x(C){u=false;var D=q.getCurrentPosition();q.setCurrentPosition(y(C));$(document).unbind("mousemove touchmove",z);B.unbind("mousemove touchmove",z);$(document).unbind("mouseup touchend",x)}u=true;i(y(A));$(document).bind("mousemove touchmove",z);B.bind("mousemove touchmove",z);$(document).bind("mouseup touchend",x);A.preventDefault()});$(".btn_repeatA").bind("mousedown touchstart",function(A){var B=$(this).parent();function y(E){var D=g(E)-B.offset().left-7;var F=(D/B.width())*q.getDuration();if(F<0){F=0}else{if(F>q.getRepeatEndTime()){F=q.getRepeatEndTime()}}return F}function C(F){var D=(F/q.getDuration())*100+"%";var E=((q.getRepeatEndTime()-F)/q.getDuration()*100)+"%";$(".btn_repeatA").css("left",D);$(".repeatbar").css("left",D).css("width",E);$("#text_currentTime").text(v(F))}function z(D){C(y(D));D.preventDefault()}function x(D){n=false;q.setRepeatStartTime(y(D));$(document).unbind("mousemove touchmove",z);B.unbind("mousemove touchmove",z);$(document).unbind("mouseup touchend",x)}n=true;C(y(A));$(document).bind("mousemove touchmove",z);B.bind("mousemove touchmove",z);$(document).bind("mouseup touchend",x);A.preventDefault();A.stopPropagation()});$(".btn_repeatB").bind("mousedown touchstart",function(A){var B=$(this).parent();function y(E){var D=g(E)-B.offset().left-7;var F=(D/B.width())*q.getDuration();if(F<q.getRepeatStartTime()){F=q.getRepeatStartTime()}else{if(F>q.getDuration()){F=q.getDuration()}}return F}function C(E){var F=(E/q.getDuration())*100+"%";var D=((E-q.getRepeatStartTime())/q.getDuration()*100)+"%";$(".btn_repeatB").css("left",F);$(".repeatbar").css("width",D);$("#text_currentTime").text(v(E))}function z(D){C(y(D));D.preventDefault()}function x(D){n=false;q.setRepeatEndTime(y(D));$(document).unbind("mousemove touchmove",z);B.unbind("mousemove touchmove",z);$(document).unbind("mouseup touchend",x)}n=true;C(y(A));$(document).bind("mousemove touchmove",z);B.bind("mousemove touchmove",z);$(document).bind("mouseup touchend",x);A.preventDefault();A.stopPropagation()});$(".volumebar").bind("mousedown touchstart",function(A){var B=$(this);function z(E){var C=g(E)-B.offset().left;var D=C/B.width();if(D<0){D=0}else{if(D>1){D=1}}return D}function y(D){var C=z(D);q.setVolume(C);D.preventDefault()}function x(C){q.setVolume(z(C));$(document).unbind("mousemove touchmove",y);B.unbind("mousemove touchmove",y);$(document).unbind("mouseup touchend",x)}q.setVolume(z(A));$(document).bind("mousemove touchmove",y);B.bind("mousemove touchmove",y);$(document).bind("mouseup touchend",x);A.preventDefault()});q.bindEvent("open_state_change",t);q.bindEvent("play_state_change",h);q.bindEvent("rate_change",j);q.bindEvent("repeat_change",a);q.bindEvent("volume_change",m);q.bindEvent("repeat_range_change",e);function t(x){switch(x){case OpenState.OPENING:break;case OpenState.OPENED:c(q.getDuration());f=setInterval(o,500);break;case OpenState.CLOSED:c(0);break}k(b(x))}function h(x){switch(x){case PlayState.PLAYING:$(".btn_play").removeClass("btn_play").addClass("btn_pause");break;case PlayState.PAUSED:$(".btn_pause").removeClass("btn_pause").addClass("btn_play");break;case PlayState.STOPPED:$(".btn_pause").removeClass("btn_pause").addClass("btn_play");break;case PlayState.BUFFERING_STARTED:break}k(r(x))}function k(x){$(".control_text_status").text(x)}function j(z){$(".btn_common").removeClass("active");var x=Math.ceil(parseInt(z*10));x/=10;var y;switch(x){case 0.6:y=$(".btn_speed06");break;case 0.8:y=$(".btn_speed08");break;case 1:y=$(".btn_speed10");break;case 1.2:y=$(".btn_speed12");break;case 1.3:y=$(".btn_speed14");break;case 1.4:y=$(".btn_speed14");break;case 1.6:y=$(".btn_speed16");break;case 1.7:y=$(".btn_speed18");break;case 1.8:y=$(".btn_speed18");break;case 2:y=$(".btn_speed20");break}y.addClass("active")}function a(x){if(x){$(".btn_repeat").addClass("active");$(".currentbar").hide();$(".repeatbar").css("left","0%").css("width","100%").show();$(".btn_repeatA").css("left","0%").show();$(".btn_repeatB").css("left","100%").show()}else{$(".btn_repeat").removeClass("active");$(".currentbar").show();$(".repeatbar").hide();$(".btn_repeatA").hide();$(".btn_repeatB").hide()}}function m(y,x){if(x){$(".btn_mute").addClass("active")}else{$(".btn_mute").removeClass("active")}$(".btn_volume").css("left",y*100+"%");$(".current_volumebar").css("width",y*100+"%")}function e(B,y){if(q.getRepeat()){$(".btn_repeat").addClass("active");var x=(B/q.getDuration()*100)+"%";var A=(y/q.getDuration()*100)+"%";var z=((y-B)/q.getDuration()*100)+"%";$(".btn_repeatA").css("left",x).show();$(".btn_repeatB").css("left",A).show();$(".repeatbar").css("left",x).css("width",z).show()}else{$("btn_repeat").removeClass("active");$(".btn_repeatA").hide();$(".btn_repeatB").hide();$(".repeatbar").hide()}}function o(){if(!u){i(q.getCurrentPosition())}}function i(y){var x=q.getDuration();var z=(x>0?(y/x)*100:0)+"%";$(".btn_seek").css("left",z);$(".currentbar").css("width",z);if(!n){$("#text_currentTime").text(v(y))}}function c(x){$("#text_duration").text(v(x))}function s(){if(q.getPlayState()==PlayState.PLAYING){q.pause()}else{q.play()}}function l(){var x=q.getRepeat();q.setRepeat(!x)}function w(){if(q.getPlayState()==PlayState.PLAYING||q.getPlayState()==PlayState.PAUSED){var x=q.getFullscreen();q.setFullscreen(!x)}else{q.setFullscreen(false)}}function p(){var x=q.getMute();q.setMute(!x)}function d(x){q.setRate(x)}function v(B){if(!B){B=0}var z=parseInt(B)%60;var x=parseInt(B/60)%60;var y=parseInt(B/60/60);function A(C){if(C<10){return"0"+C}else{return C}}return[A(y),A(x),A(z)].join(":")}function b(x){switch(x){case OpenState.CLOSED:return"닫힘";case OpenState.OPENING:return"여는 중";case OpenState.OPENED:return"열림";case OpenState.CLOSING:return"닫는 중"}}function r(x){switch(x){case PlayState.STOPPED:return"정지";case PlayState.PLAYING:return"재생 중";case PlayState.PAUSED:return"일시정지";case PlayState.BUFFERING_STARTED:return"버퍼링";case PlayState.COMPLETE:return"재생완료"}}};